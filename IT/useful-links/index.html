<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>MUST Course Resources</title>
  </head>
  <body>
    <header></header>


    <!-- <section class="my-section other">
        <h1>welcome to University</h1>
        <h1>Other Communities</h1>
        <p>  Far far away, behind the word mountains, far from the countries countries Vokalia and Consonantia, there live the blind texts there live the blind texts. 
            A small river named Duden flows by their place and supplies it with the necessary regelialia.
        </p>
        <div class="row " id="general-container">
            <div class="other-col">
                <img src="../../image/library.png" alt="">
                <div class="data">
                    <h3>brrrrr</h3> 
                    <p> Far far away, behind the word mountains, far from the countries countries </p>  
                </div>

            </div>
            <div class="other-col">
                <img src="../../image/basketball.png" alt="">
                <h3>brrrrr</h3> 
                <p> Far far away, behind the word mountains, far from the countries countries </p>  
            </div>
            <div class="other-col">
                <img src="../../image/cafeteria.png" alt="">
                <h3>brrrrr</h3> 
                <p> Far far away, behind the word mountains, far from the countries countries </p>  
            </div>
        </div>

    </section> -->

    <section class="my-section links">
      <!-- <h1>welcome to University</h1> -->
      <h1>Useful Links & Communities</h1>
      <p class="advice"></p>
      <div class="container-2" id="links-container"></div>
    </section>


    <footer></footer>
    <script>
      function _showMenu() {
        document.getElementById("navLinks").style.right = "0";
      }
      function _hideMenu() {
        document.getElementById("navLinks").style.right = "-200px";
      }
      function _isEmpty(e) {
        return !(e == undefined || e == null || e == "");
      }
      (async () => {
        var res = await (
          await fetch(
            `${window.location.protocol}//${window.location.host}/MUST/api/MUST/IT/links.json`
          )
        ).json();
        // var res = await(await fetch(`/api/MUST/IT/links.json`)).json();
        console.log(res);
        res.links.forEach((e) => {
          if (e.hidden) return;
          // window.location.protocol+"//"+window.location.host+(e.url.link[0]=='/')?'/'+e.url.link:
          // console.log(_isEmpty(e.img) +"-" + _isEmpty(e.name) + "-" +_isEmpty(e.description) + "-");

          document.querySelector("#links-container").innerHTML += `<a href="${
            e.url.type == "local" ? e.url.link : e.url.link
          }" ${
            e.url.type == "local" ? "" : 'target="_blank"'
          }><div class="link-col">
                    <img src="${
                      !_isEmpty(e.img) ? "../../image/library.png" : e.img
                    }" alt="">
                    <div class="data">
                        <h3>${!_isEmpty(e.name) ? "No Name" : e.name}</h3> 
                        <p> ${
                          !_isEmpty(e.description)
                            ? "No Description"
                            : e.description
                        }</p>  
                    </div>
                </div></a>`;
        });
      })();
      (async () => {
        const res = await ( await fetch(`https://api.adviceslip.com/advice`)  ).json();
        // console.log(res);
        document.querySelector(".advice").innerHTML = res.slip.advice;
      })();
    </script>

    	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
      <script>
      $('footer').load('../../include/footer.html');
      $('header').load('../../include/header.html');
      </script>
  </body>
</html>
