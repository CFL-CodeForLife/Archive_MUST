<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>MUST Course Resources</title>
  </head>
  <body>
    <section class="min-header">
      <nav>
        <a href="index.html"><img src="/image/logo.png" alt="" /></a>
        <div class="nav-links" id="navLinks">
          <i class="fa fa-times" onclick="_hideMenu()"></i>
          <i class="fad fa-skull fa-rotate-90"></i>

          <ul>
            <li><a href="../groups/index.html">Home</a></li>
            <li><a href="#footer">About Us</a></li>
            <li><a href="../groups/index.html">Courses</a></li>
            <li><a href="https://www.must.edu.eg/">University</a></li>
            <li><a href="#">Useful Links</a></li>
          </ul>
        </div>
        <i class="fa fa-bars" onclick="_showMenu()"></i>
      </nav>
      <!-- <h1>Our Courses</h1> -->
    </section>

    <!-- <section class="my-section other">
        <h1>welcome to University</h1>
        <h1>Other Communities</h1>
        <p>  Far far away, behind the word mountains, far from the countries countries Vokalia and Consonantia, there live the blind texts there live the blind texts. 
            A small river named Duden flows by their place and supplies it with the necessary regelialia.
        </p>
        <div class="row " id="general-container">
            <div class="other-col">
                <img src="../../image/library.png" alt="">
                <div class="data">
                    <h3>brrrrr</h3> 
                    <p> Far far away, behind the word mountains, far from the countries countries </p>  
                </div>

            </div>
            <div class="other-col">
                <img src="../../image/basketball.png" alt="">
                <h3>brrrrr</h3> 
                <p> Far far away, behind the word mountains, far from the countries countries </p>  
            </div>
            <div class="other-col">
                <img src="../../image/cafeteria.png" alt="">
                <h3>brrrrr</h3> 
                <p> Far far away, behind the word mountains, far from the countries countries </p>  
            </div>
        </div>

    </section> -->

    <section class="my-section links">
      <!-- <h1>welcome to University</h1> -->
      <h1>Useful Links & Communities</h1>
      <p class="advice"></p>
      <div class="container-2" id="links-container"></div>
    </section>

    <section class="footer" id="footer">
      <h3>About Us</h3>
      <div style="display: flex; align-items: center">
        <div style="padding: 0 2vw 0 10vw">
          <img src="../../image/cfl-logo.png" id="cfl-logo" />
        </div>
        <div style="padding-right: 2vw">
          <p>
            We're a group of students from the the university who were sick of
            being confused as to where we <br />
            can find our courses' materials so we decided to gather them and
            articulate them in a small website, enjoy!
          </p>
        </div>
      </div>
      <div class="icons">
        <i class="fa fa-facebook"></i>
        <i class="fa fa-twitter"></i>
        <i class="fa fa-instagram"></i>
        <i class="fa fa-twitter"></i>
      </div>
      <p>Made with <i class="fa fa-heart-o"></i> by Ahmed Kira</p>
    </section>

    <script>
      function _showMenu() {
        document.getElementById("navLinks").style.right = "0";
      }
      function _hideMenu() {
        document.getElementById("navLinks").style.right = "-200px";
      }
      function _isEmpty(e) {
        return !(e == undefined || e == null || e == "");
      }
      (async () => {
        var res = await (
          await fetch(
            `${window.location.protocol}//${window.location.host}/MUST/api/MUST/IT/links.json`
          )
        ).json();
        // var res = await(await fetch(`/api/MUST/IT/links.json`)).json();
        console.log(res);
        res.links.forEach((e) => {
          if (e.hidden) return;
          // window.location.protocol+"//"+window.location.host+(e.url.link[0]=='/')?'/'+e.url.link:
          console.log(
            _isEmpty(e.img) +
              "-" +
              _isEmpty(e.name) +
              "-" +
              _isEmpty(e.description) +
              "-"
          );

          document.querySelector("#links-container").innerHTML += `<a href="${
            e.url.type == "local" ? e.url.link : e.url.link
          }" ${
            e.url.type == "local" ? "" : 'target="_blank"'
          }><div class="link-col">
                    <img src="${
                      !_isEmpty(e.img) ? "../../image/library.png" : e.img
                    }" alt="">
                    <div class="data">
                        <h3>${!_isEmpty(e.name) ? "No Name" : e.name}</h3> 
                        <p> ${
                          !_isEmpty(e.description)
                            ? "No Description"
                            : e.description
                        }</p>  
                    </div>
                </div></a>`;
        });
      })();
      (async () => {
        const res = await (
          await fetch(`https://api.adviceslip.com/advice`)
        ).json();
        console.log(res);
        document.querySelector(".advice").innerHTML = res.slip.advice;
      })();
    </script>
  </body>
</html>
